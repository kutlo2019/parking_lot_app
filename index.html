<!DOCTYPE html>
<!-- Declaring the ng-app -->
<html lang="en" ng-app="parking">
<head>
	<title>MC2 Parking</title>
	<!-- importing the angular.js script -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.0/angular.min.js"></script>

	<script>
		// Creating the module called parking
		var parking = angular.module("parking", []);
		// Registering the parkingCtrl to the parking module
		parking.controller("parkingCtrl", function ($scope) {
			$scope.appTitle = "MC2 Parking"

			// Binding the car's array to the scope
			$scope.cars = [];

			// Binding the park function to the scope
			$scope.park = function (car) {
				car.entrance = new Date();
				$scope.cars.push(angular.copy(car));
				delete $scope.car;
			};
		});
	</script>
</head>
<!-- Attaching the view to the parkingCtrl -->
<body ng-controller="parkingCtrl">
	<h3 ng-bind="appTitle"></h3>
	<table>
		<thead>
			<tr>
				<th>Plate</th>
				<th>Entrance</th>
			</tr>
		</thead>
		<tbody>
			<!-- Iterating over the cars -->
			<tr ng-repeat="car in cars">
				<!-- Showing the car's plate -->
				<td><span ng-bind="car.plate"></span></td>
				<td><span ng-bind="car.entrance"></span></td>
			</tr>
		</tbody>
	</table>
	<!-- Binding the car object, with plate, to the scope -->
	<input 
		type="text" 
		ng-model="car.plate"
		placeholder="What's the plate?" 
	/>
	<!-- Binding the park funcion to the click event -->
	<button 
		ng-click="park(car)"
		ng-disabled="!car.plate"
	>
		Park
	</button>
</body>
</html>